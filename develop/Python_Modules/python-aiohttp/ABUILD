pkgname=python-aiohttp
pkgver=3.7.4
pkgbuild=1
arch=('auto')

shortdesc=("HTTP client/server for asyncio")
longdesc=("Python HTTP client/server for asyncio which supports both the client and the server side of the HTTP protocol, client and server websocket, and webservers with middlewares and pluggable routing.")

source="https://github.com/aio-libs/aiohttp/archive/refs/tags/v$pkgver.tar.gz"

tags="libs dev-python"

build_deps="python python-cython python-setuptools"

adddep="python-chardet python-attrs python-multidict python-async-timeout python-yarl"

build() {
  go_src_dir
  burn_patches
#  make cythonize
  python setup.py build
  python setup.py install --root="${pkgdir}" -O1 --skip-build
}

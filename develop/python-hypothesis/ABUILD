pkgname=python-hypothesis
pkgver=6.14.0
pkgbuild=1
url="https://pypi.org/project/hypothesis/"
arch=('auto')

shortdesc=("A library for property based testing")
longdesc=("Hypothesis is a library for testing your Python code against a much larger range of examples than you would ever want to write by hand. Its based on the Haskell library, Quickcheck, and is designed to integrate seamlessly into your existing Python unit testing work flow.")

source=("https://files.pythonhosted.org/packages/53/ea/49b4c96bc7c0d1df1ba7b5ae308232c1ec8667036147624d37c9ac95b26b/hypothesis-$pkgver.tar.gz")

tags="develop dev-python"

build_deps="python python-setuptools python-sortedcontainers python-attrs"

adddep="python python-attrs python-sortedcontainers"

build()
{
  go_src_dir
  python setup.py build

  python setup.py install --root="$pkgdir" --optimize=1

# It's only present when tests are enabled, so adding -f
  rm -rf "$pkgdir"/usr/lib/python3.9/site-packages/tests
}

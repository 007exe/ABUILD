pkgname=flex
pkgver=2.6.4
pkgbuild=2
arch=("auto")

shortdesc="A tool for generating text-scanning programs"
longdesc="flex is a tool for generating programs that perform pattern matching on text. flex is a rewrite of the AT&T Unix lex tool (the two implementations do not share any code, though), with some extensions (and incompatibilities)."

tags=("develop sys-devel")

source=("https://github.com/westes/flex/releases/download/v$pkgver/flex-$pkgver.tar.gz")

build_deps="glibc"

adddep="bash m4 bash"

build() {
  go_src_dir
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib$LIBDIRSUFFIX
  make
  make DESTDIR=${pkgdir} install

  install -Dm0755 ${filedir}/lex.sh ${pkgdir}/usr/bin/lex
}

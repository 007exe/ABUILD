pkgname=findutils
pkgver=4.8.0
pkgbuild=1
arch=("auto")

shortdesc="Utilities to locate files"
longdesc="The findutils package contains programs which will help you locate files on your system.  The find utility searches through a hierarchy of directories looking for files which match a certain set of criteria The xargs utility builds and executes command lines from standard input arguments."

tags=("base sys-base")

source=("ftp://ftp.gnu.org/pub/gnu/findutils/${pkgname}-${pkgver}.tar.xz")

build_deps="glibc"

adddep="bash"

build() {
  go_src_dir
# Don't build or install locate because we use mlocate,
# which is a secure version of locate.
  sed -e '/^SUBDIRS/s/locate//' -e 's/frcode locate updatedb//' -i Makefile.in
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib$LIBDIRSUFFIX
# don't build locate, but the docs want a file in there.
  make -C locate dblocation.texi
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
}

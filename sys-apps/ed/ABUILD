pkgname=ed
pkgver=1.17
pkgbuild=1
arch=("auto")

shortdesc=("The GNU line editor")
longdesc=("Ed is a line-oriented text editor, used to create, display, and modify text files (both interactively and via shell scripts). For most purposes, ed has been replaced in normal usage by full-screen editors (emacs and vi, for example).")

tags=("base sys-base")

source=("https://ftp.gnu.org/gnu/ed/$pkgname-$pkgver.tar.lz")

build_deps="glibc lzip"

build() {
  go_src_dir
  burn_patches
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib$LIBDIRSUFFIX \
    --docdir=/usr/share/doc \
    --mandir=/usr/share/man \
    "CPPFLAGS=$CPPFLAGS" \
    "CFLAGS=$CFLAGS" \
    "LDFLAGS=$LDFLAGS"
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
}

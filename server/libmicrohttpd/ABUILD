pkgname=libmicrohttpd
pkgver=0.9.73
pkgbuild=1
arch=('auto')

shortdesc=("Small C library to run an HTTP server")
longdesc=("libmicrohttpd is a small C library that is supposed to make it easy to run an HTTP server as part of another application.")

source=("http://ftp.gnu.org.ua/gnu/libmicrohttpd/libmicrohttpd-$pkgver.tar.gz")

tags="server www-servers"

build_deps="gnutls curl"

build() {
  go_src_dir
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib${LIBDIRSUFFIX} \
    --disable-dependency-tracking \
    --disable-examples \
    --enable-largefile \
    --enable-curl \
    --enable-https \
    --enable-largefile \
    --enable-messages \
    --with-pic
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
}

pkgname=procps
pkgver=3.3.17
pkgbuild=1
arch=("auto")

config_files="etc/sysctl.conf"

shortdesc="Utilities for monitoring your system and its processes"
longdesc="The procps package contains a set of system utilities which provide system information."

tags=("base sys-base")

source=("https://downloads.sourceforge.net/project/procps-ng/Production/procps-ng-${pkgver}.tar.xz")

build_deps="ncurses pkg-config"

build() {
  go_src_dir
  ./configure \
    --prefix=/usr \
    --bindir=/usr/bin \
    --sbindir=/usr/bin \
    --libdir=/usr/lib$LIBDIRSUFFIX \
    --sysconfdir=/etc \
    --exec-prefix=/ \
    --enable-watch8bit \
    --disable-modern-top \
    --disable-kill
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
  install -Dm0644 ${filedir}/sysctl.conf ${pkgdir}/etc/sysctl.conf
}

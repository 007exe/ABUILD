pkgname=clisp
pkgver=2.49.93
pkgbuild=1
arch=("auto")

shortdesc=("ANSI Common Lisp interpreter, compiler and debugger.")
longdesc=("GNU Clisp is a Common Lisp implementation which includes an interpreter, compiler, debugger, and many extensions.")

source=("hg:http://hg.code.sf.net/p/clisp/clisp")

tags=("develop dev-libs")

build_deps=("readline libsigsegv ffcall libunistring")

build(){
  go_src_dir
  burn_patches
  mkdir build
  cd build
  ../configure \
    --srcdir=../ \
    --prefix=/usr \
    --docdir=/usr/share/doc/clisp \
    --with-libsigsegv-prefix=/usr
  ulimit -s 16384
  make -j1
  make DESTDIR=${pkgdir} install
}

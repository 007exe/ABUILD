# ABUILD generated by mkpkg_generator.sh

pkgname=opensc
pkgver=0.12.2
pkgbuild=1
arch=("auto")

config_files="etc/opensc.conf"

shortdesc=("Access smart cards that support cryptographic operations")
longdesc=("OpenSC provides a set of libraries and utilities to work with smart cards. Its main focus is on cards that support cryptographic operations, and facilitate their use in security applications such as authentication, mail encryption and digital signatures. OpenSC implements the  PKCS#11 API so applications supporting this API (such as Mozilla Firefox and Thunderbird) can use it. On the card OpenSC implements the  PKCS#15 standard and aims to be compatible with every software/card that does so, too.")

tags=("sys-libs develop")

source=("http://www.opensc-project.org/files/$pkgname/$pkgname-$pkgver.tar.gz")

build_deps="pcsclite openssl"

export LIBS=-lltdl
_sheetdir=(/usr/share/xml/docbook/xsl-stylesheets-*)
BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr --libdir=/usr/lib$LIBDIRSUFFIX --mandir=/usr/man --sysconfdir=/etc \
	--enable-readline \
	--enable-pcsc \
	--enable-openssl \
	--enable-man \
	--enable-doc \
	--with-xsl-stylesheetsdir=$_sheetdir"
INSTALL_KEYS="DESTDIR=$pkgdir"

after_build() {
	install -Dm0644 etc/opensc.conf ${pkgdir}/etc/opensc.conf
}

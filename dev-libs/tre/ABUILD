pkgname=tre
pkgver=0.8.0
pkgbuild=1
arch=("auto")

shortdesc=("The free and portable approximate regex matching library.")

source=("http://laurikari.net/tre/${pkgname}-${pkgver}.tar.bz2")

tags=("libs dev-libs")

build_deps=("glibc")

build() {
  go_src_dir
  burn_patches
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib \
    --enable-static
  make -j${numjobs}
  make DESTDIR=${pkgdir} install

  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
  install -d ${pkgdir}/usr/share/doc/${pkgname}

  cd doc
  for f in default.css tre-api.html tre-syntax.html; do
          install -Dm644 ${f} ${pkgdir}/usr/share/doc/${pkgname}/${f}
  done
}

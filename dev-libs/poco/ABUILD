pkgname=poco
pkgver=1.12.4
_pkgver=${pkgver/_/}
pkgbuild=1
arch=("auto")

shortdesc=("C++ class libraries for network-centric, portable applications, complete edition with debug libraries.")

source=("https://pocoproject.org/releases/poco-${_pkgver%p?}/poco-${_pkgver}-all.tar.bz2")

tags=("libs dev-libs")

adddep=("mariadb-libs openssl unixodbc")

build_deps=("${adddep} cmake ninja")

build() {
  go_src_dir
  burn_patches
  cmake \
    -GNinja \
    -Bbuild \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_INSTALL_LIBDIR=lib \
    -DCMAKE_BUILD_TYPE=Release
  ninja -C build
  DESTDIR=${pkgdir} ninja -C build install
  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/poco/LICENSE
}

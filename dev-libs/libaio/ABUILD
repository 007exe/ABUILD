pkgname=libaio
pkgver=0.3.112
pkgbuild=3
arch=("auto")

shortdesc=("Linux-native asynchronous I/O access library")
longdesc=("The Linux-native asynchronous I/O facility ("async I/O", or "aio") has a richer API and capability set than the simple POSIX async I/O facility. This library, libaio, provides the Linux-native API for async I/O. The POSIX async I/O facility requires this library in order to provide kernel-accelerated async I/O capabilities, as do applications which require the Linux-native async I/O API.")

tags=("dev-libs libs")

source=("https://releases.pagure.org/libaio/${pkgname}-${pkgver}.tar.gz")

build_deps="gcc"

build() {
  go_src_dir
  CFLAGS="-mtune=generic -O2 -pipe"
  make -j${numjobs}
}

after_build() {
  go_src_dir
  make prefix="$pkgdir/usr" install
  mv -f $pkgdir/usr/lib $pkgdir/usr/lib64
}

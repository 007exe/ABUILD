pkgname=libgusb
pkgver=0.4.7
pkgbuild=1
arch=("auto")

shortdesc=("GObject wrapper for libusb1.")

source=("https://github.com/hughsie/libgusb/archive/${pkgver}/libgusb-${pkgver}.tar.gz")

tags=("dev-libs libs")

adddep=("glib2 json-glib libusb")
# umockdev
build_deps=("${adddep} gi-docgen gobject-introspection gtk-doc meson python-setuptools vala")

build() {
  go_src_dir
  burn_patches
  meson build \
    --prefix=/usr \
    --buildtype=release \
    -D docs=false
  ninja -C build
  DESTDIR=${pkgdir} ninja -C build install
}

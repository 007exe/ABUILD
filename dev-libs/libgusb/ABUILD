pkgname=libgusb
pkgver=0.4.4
pkgbuild=1
arch=("auto")

shortdesc=("GObject wrapper for libusb1.")

source=("https://github.com/hughsie/libgusb/archive/${pkgver}/libgusb-${pkgver}.tar.gz")

tags=("dev-libs libs")

build_deps=("libusb gobject-introspection gtk-doc meson vala")

# FIXME: Проблемы со сборкой документации

build() {
  go_src_dir
  burn_patches
  meson build \
    --prefix=/usr \
    --buildtype=release \
    -D docs=false
  ninja -C build
  DESTDIR=${pkgdir} ninja -C build install
}

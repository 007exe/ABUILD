pkgname=botan
pkgver=3.2.0
pkgbuild=1
arch=("auto")

shortdesc=("C++ crypto library.")

source=("https://botan.randombit.net/releases/Botan-${pkgver}.tar.xz")

tags=("libs dev-libs")

adddep=("sqlite xz")

build_deps=("${adddep} python boost")

# NOTE: Это опциональные зависимости
removedep=("boost-libs python")

build() {
  go_src_dir
  burn_patches
  ./configure.py \
    --prefix=/usr \
    --with-bzip \
    --with-lzma \
    --with-zlib \
    --with-boost \
    --with-sqlite3 \
    --with-os-feature=getrandom
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
  install -Dm644 license.txt ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}

pkgname=python-paramiko
pkgver=2.11.1
pkgbuild=1
arch=("auto")

shortdesc=("Python module that implements the SSH2 protocol.")

source=("https://github.com/paramiko/paramiko/archive/${pkgver}/python-paramiko-${pkgver}.tar.gz")

tags=("libs dev-python")

adddep=("python-bcrypt python-cryptography python-pynacl")

build_deps=("${adddep} python python-setuptools")

build() {
  go_src_dir
  python setup.py install --root=${pkgdir} --optimize=1
  install -dm755 ${pkgdir}/usr/share/doc/${pkgname}/demos
  install -m644 demos/* ${pkgdir}/usr/share/doc/${pkgname}/demos
  chmod 755 ${pkgdir}/usr/share/doc/${pkgname}/demos/*.py
}

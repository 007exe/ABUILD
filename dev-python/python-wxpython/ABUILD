pkgname=python-wxpython
pkgver=4.2.0
pkgbuild=1
arch=("auto")

shortdesc=("Cross-platform GUI toolkit.")

source=("https://files.pythonhosted.org/packages/source/w/wxPython/wxPython-${pkgver}.tar.gz")

tags=("libs dev-python")

build_deps=("mesa glu webkit2gtk python-requests python-setuptools python-attrdict sip doxygen waf
wxwidgets-gtk3 python-six")

adddep=("wxwidgets-gtk3 python-six")

build() {
  go_src_dir
  rm -r sip/{cpp,gen}/*
  SIP=/usr/bin/sip DOXYGEN=/usr/bin/doxygen WAF=/usr/bin/waf \
  python build.py dox etg --nodoc sip build --use_syswx --release
  python build.py install --destdir=${pkgdir}
  install -Dm 644 LICENSE.txt ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE.txt
  find ${pkgdir}/usr/lib -type f | xargs chmod 644
}

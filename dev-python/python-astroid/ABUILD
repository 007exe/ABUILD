pkgname=python-astroid
pkgver=2.15.2
pkgbuild=1
arch=("auto")

shortdesc=("A common base representation of python source code.")

source=("https://github.com/PyCQA/astroid/archive/v${pkgver}/astroid-${pkgver}.tar.gz")

tags=("libs dev-python")

adddep=("python-typing_extensions python-wrapt python-lazy-object-proxy")

build_deps=("${adddep} python python-build python-installer python-wheel python-setuptools")

build() {
  go_src_dir
  burn_patches
  sed -i -e '/^requires =/s/~=[0-9.]\+//g' pyproject.toml
  python -m build -wn
  python -m installer -d ${pkgdir} dist/*.whl
}

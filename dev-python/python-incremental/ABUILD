pkgname=python-incremental
pkgver=22.10.0
pkgbuild=1
arch=("auto")

shortdesc=("A small library that versions your Python projects.")

source=("https://github.com/hawkowl/incremental/archive/incremental-${pkgver}.tar.gz")

tags=("libs dev-python")

build_deps=("python python-click python-setuptools python-twisted")

adddep=("python-click python-setuptools python-twisted")

build() {
  export SETUPTOOLS_SCM_PRETEND_VERSION=${pkgver}
  go_src_dir
  python setup.py build
  python setup.py install --root=${pkgdir} --optimize=1
  install -Dm644 LICENSE -t ${pkgdir}/usr/share/licenses/${pkgname}/
}

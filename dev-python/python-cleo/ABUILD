pkgname=python-cleo
pkgver=2.0.1
pkgbuild=1
arch=("auto")

shortdesc=("Create beautiful and testable command-line interfaces.")

source=("https://github.com/python-poetry/cleo/archive/$pkgver/cleo-${pkgver}.tar.gz")

tags=("libs dev-python")

# python-rapidfuzz
build_deps=("python python-build python-installer python-wheel python-poetry-core
python-crashtest python-pylev python-typing_extensions")

# python-rapidfuzz
adddep=("python-crashtest python-pylev python-typing_extensions")

build() {
  go_src_dir
  sed -e 's/\^/>=/g' \
        -e 's/~=/>=/g' \
        -i pyproject.toml
  python -m build -wn
  python -m installer -d ${pkgdir} dist/*.whl
  install -Dm0644 -t ${pkgdir}/usr/share/licenses/${pkgname} LICENSE
}

#!/bin/bash

KDE_GEAR_VERSION=22.08.0

LIST="libkdcraw
libkexiv2
libkmahjongg
libktorrent
signon-kwallet-extension
kaccounts-integration
akonadi
ark
baloo-widgets
dragon
filelight
kamera
kate
konsole
libkcddb
libkomparediff2
yakuake
analitza
libkcompactdisc
audiocd-kio
cervisia
ffmpegthumbs
juk
kapptemplate
kdegraphics-mobipocket
kcalc
kpmcore
partitionmanager
k3b
kamoso
kbruch
kcolorchooser
kcron
kde-dev-scripts
kde-dev-utils
kdeedu-data
kdegraphics-thumbnailers
kdesdk-thumbnailers
kdf
kfloppy
kgeography
kiten
kqtquickcharts
krfb
kruler
ksystemlog
kteatime
ktimer
lokalize
poxml
print-manager
rocs
step
svgpart
sweeper
kio-extras
dolphin
dolphin-plugins
kalgebra
gwenview
kcachegrind
kcharselect
kig
klettres
kmag
kmix
kmousetool
kmouth
kmplot
ksanecore
libksane
kolourpaint
kompare
ktouch
kturtle
kwalletmanager
cantor
kdenetwork-filesharing
ktorrent
marble
okular
kget
kmime
kmbox
grantleetheme
akonadi-contacts
kcalutils
ksmtp
libkgapi
kmailtransport
akonadi-calendar
akonadi-mime
akonadi-search
akonadi-notes
kgpg
libkeduvocdocument
kwordquiz
parley
kdevelop
kdevelop-php
umbrello
krdc
kdenlive
kalzium
kpimtextedit
kldap
kimap
libkdepim
pimcommon
kdepim-runtime
kidentitymanagement
libkleo
kopete
calendarsupport
akonadi-calendar-tools
messagelib
mailcommon
akonadi-import-wizard
akonadiconsole
akregator
elisa
eventviews
falkon
grantlee-editor
incidenceeditor
kaccounts-providers
kaddressbook
kalarm
kalendar
kbackup
kdebugsettings
kdeconnect
libksieve
ktnef
kitinerary
kdepim-addons
kdialog
keditbookmarks
kfind
khelpcenter
kimagemapeditor
kio-zeroconf
kleopatra
kmail-account-wizard
mbox-importer
pim-data-exporter
pim-sieve-editor
kmail
libkdegames
knights
knotes
konqueror
zanshin
korganizer
kontact
kontactinterface
kontrast
konversation
kopeninghours
kosmindoormap
kpkpass
kpublictransport
libgravatar
mailimporter
markdownpart
minuet
skanlite
skanpage
spectacle
kwave
kirigami-gallery"

CWD=~
STARTD=`pwd`

LOGFILE="$CWD/build.log"

echo "============================= Начало сборки `date` =============================" >> $LOGFILE
for i in $LIST ; do
    cd $STARTD/$i
    if mkpkg -ba -wd ~/mkpkg/build -pod ~/mkpkg/repository/kde-gear -si -bv $KDE_GEAR_VERSION -bb 1; then
           echo "`date` || Пакет: $i ГОТОВ" >> $LOGFILE
           cd $STARTD
    else
           echo "`date` || ОШИБКА пакет: $i НЕ СОБРАН!!!" >> $LOGFILE
           cd $STARTD
    fi
done

echo "============================= Завершено `date` =============================" >> $LOGFILE

#!/bin/bash

KDE_GEAR_VERSION=22.08.2

LIST="libkdcraw
libkexiv2
libkmahjongg
libktorrent
signon-kwallet-extension
kaccounts-integration
akonadi
ark
baloo-widgets
dragon
filelight
kamera
kate
konsole
libkcddb
libkomparediff2
yakuake
analitza
libkcompactdisc
audiocd-kio
cervisia
ffmpegthumbs
juk
kapptemplate
kdegraphics-mobipocket
kcalc
kpmcore
partitionmanager
k3b
kamoso
kbruch
kcolorchooser
kcron
kde-dev-scripts
kde-dev-utils
kdeedu-data
kdegraphics-thumbnailers
kdesdk-thumbnailers
kdf
kfloppy
kgeography
kiten
kqtquickcharts
krfb
kruler
ksystemlog
kteatime
ktimer
lokalize
poxml
print-manager
rocs
step
svgpart
sweeper
dolphin
dolphin-plugins
kalgebra
gwenview
kcachegrind
kcharselect
kig
klettres
kmag
kmix
kmousetool
kmouth
kmplot
ksanecore
libksane
kolourpaint
kompare
ktouch
kturtle
kwalletmanager
messagelib
cantor
ktorrent
marble
okular
kget
kmime
kmbox
grantleetheme
akonadi-contacts
ksmtp
libkgapi
akonadi-mime
akonadi-search
akonadi-notes
kgpg
libkeduvocdocument
kwordquiz
parley
kdevelop
kdevelop-php
umbrello
krdc
kdenlive
kalzium
kpimtextedit
kldap
kimap
libkdepim
pimcommon
kidentitymanagement
libkleo
kopete
elisa
eventviews
falkon
grantlee-editor
kaccounts-providers
kalendar
kbackup
kdebugsettings
kdeconnect
kdialog
keditbookmarks
kfind
khelpcenter
kimagemapeditor
kio-zeroconf
kleopatra
libkdegames
knights
konqueror
zanshin
kontactinterface
kontrast
konversation
kopeninghours
kosmindoormap
kpkpass
kpublictransport
libgravatar
mailimporter
markdownpart
minuet
skanlite
skanpage
spectacle
kwave
kirigami-gallery
kcalutils
kmailtransport
akonadi-calendar
kdepim-runtime
calendarsupport
akonadi-calendar-tools
mailcommon
akonadi-import-wizard
akonadiconsole
akregator
grantlee-editor
incidenceeditor
kaddressbook
kalarm
libksieve
ktnef
kmail-account-wizard
mbox-importer
pim-data-exporter
pim-sieve-editor
kmail
knotes
korganizer
kontact
kitinerary
kdepim-addons
kio-extras
kdenetwork-filesharing"

CWD=~
STARTD=`pwd`

LOGFILE="$CWD/build.log"

echo "============================= Начало сборки `date` =============================" >> $LOGFILE
for i in $LIST ; do
    cd $STARTD/$i
    if mkpkg -ba -wd ~/mkpkg/build -pod ~/mkpkg/repository/kde-gear -si -bv $KDE_GEAR_VERSION -bb 1; then
           echo "`date` || Пакет: $i ГОТОВ" >> $LOGFILE
           cd $STARTD
    else
           echo "`date` || ОШИБКА пакет: $i НЕ СОБРАН!!!" >> $LOGFILE
           cd $STARTD
    fi
done

echo "============================= Завершено `date` =============================" >> $LOGFILE

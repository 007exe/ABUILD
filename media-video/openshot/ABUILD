pkgname=openshot
pkgver=3.1.1
pkgbuild=1
arch=("auto")

shortdesc=("An award-winning free and open-source video editor.")

source=("https://github.com/OpenShot/openshot-qt/archive/v${pkgver}/${pkgname}-${pkgver}.tar.gz")

tags=("media-video apps")

adddep=("ffmpeg hicolor-icon-theme libopenshot libopenshot-audio python python-pyqt5 python-pyqt5-webengine python-pyzmq python-requests qt5-base qt5-svg")

build_deps=("${adddep} python-build python-installer python-setuptools python-wheel")

build() {
  go_src_dir
  burn_patches
  python -m build --wheel --no-isolation
  python -m installer --destdir=${pkgdir} dist/*.whl
  install -vDm 644 {AUTHORS,{CONTRIBUTING,README}.md} -t ${pkgdir}/usr/share/doc/${pkgname}/
}

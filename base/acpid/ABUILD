# ABUILD generated by mkpkg_generator.sh

pkgname=acpid
pkgver=2.0.32
pkgbuild=1
arch=('auto')

shortdesc=('ACPI daemon')

tags=('base sys-power')

source=("http://downloads.sourceforge.net/sourceforge/acpid2/$pkgname-$pkgver.tar.xz")

build_deps='glibc-solibs'
config_files="etc/acpi/acpi_handler.sh
etc/conf.d/acpid
etc/acpi/events/default"

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr --mandir=/usr/man --docdir=/usr/share/doc/${pkgname}-${pkgver}"

after_build() {

	mkdir -p $pkgdir/etc/acpi/events
	zcat $filedir/acpi_handler.sh.gz > $pkgdir/etc/acpi/acpi_handler.sh
	chmod 755 $pkgdir/etc/acpi/acpi_handler.sh
	zcat $filedir/default.gz > $pkgdir/etc/acpi/events/default
	
	# Add OpenRC scripts
	install -Dm644 $filedir/acpid $pkgdir/etc/conf.d/acpid
	install -Dm755 $filedir/acpid.init $pkgdir/etc/init.d/acpid
}


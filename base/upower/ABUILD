pkgname=upower
pkgver=0.99.11
pkgbuild=1
arch=('auto')

shortdesc=("Abstraction for enumerating power devices, listening to device events and querying history and statistics")
longdesc=("Power Management Service provides a daemon, API and command line tools for managing power devices attached to the system.")

source=("https://upower.freedesktop.org/releases/upower-${pkgver}.tar.xz")

tags="base sys-power"

build_deps="docbook-xsl python libgudev"

#adddep="libusb polkit dbus-glib libimobiledevice"

config_files="/etc/UPower/UPower.conf"

build() {
  go_src_dir
  burn_patches
  ./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var \
    --libdir=/usr/lib${LIBDIRSUFFIX} \
    --disable-static \
    --disable-gtk-doc
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
}

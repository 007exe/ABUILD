#!/bin/bash

# NOTE: Этот скрипт предназначен для организации очереди сборки пакетов
# WARNING: Скрипт не умеер разделять мультипакеты на категории

# Осторожнео с пакетом file
# dev-util/meson версия 0.63.3 не работает

LIST="sys-libs/glibc
media-libs/sdl_sound
dev-python/python-colorama
dev-python/python-build
dev-python/python-sphinxcontrib-towncrier
dev-python/python-pip
dev-python/python-sphinx-furo
dev-python/python-jaraco.context
dev-python/python-jaraco.functools
dev-python/python-nspektr
dev-python/python-validate-pyproject
dev-python/python-virtualenv
dev-python/python-markdown-it-py
dev-python/python-zipp
dev-python/python-keyring
dev-python/python-platformdirs
dev-python/python-crashtest
dev-python/python-solidpython
dev-python/python-poetry
dev-python/python-poetry-core
dev-python/python-rich
dev-python/python-pathspec
dev-python/python-hatchling
multilib-lib32/lib32-glib2
multilib-lib32/lib32-libx11
multilib-lib32/lib32-libxcb
multilib-lib32/lib32-libxinerama
multilib-lib32/lib32-libxcomposite
multilib-lib32/lib32-libxmu
multilib-lib32/lib32-libxxf86vm
multilib-lib32/lib32-mpg123
multilib-lib32/lib32-openal
multilib-lib32/lib32-libxslt
multilib-lib32/lib32-v4l-utils
multilib-lib32/lib32-libpulse
multilib-lib32/lib32-alsa-lib
multilib-lib32/lib32-libxcomposite
multilib-lib32/lib32-mesa
multilib-lib32/lib32-mesa-libgl
multilib-lib32/lib32-libcups
multilib-lib32/lib32-sdl2
multilib-lib32/lib32-vulkan-icd-loader
multilib-lib32/lib32-gst-plugins-base-libs
kde-plasma/discover
app-accessibility/flite
app-text/asciidoc
net-libs/gupnp-igd
gnome-apps/alacarte
xorg-misc/xdg-utils
sys-apps/fwupd
(zig_Требует_обновить_LLVM_до_15й_версии)
dev-lang/zig
sys-fs/ncdu
media-video/obs-studio
media-libs/libquvi
sys-apps/file
media-libs/projectm
media-libs/libjxl
media-gfx/graphicsmagick
media-gfx/zbar
app-text/psutils
app-text/a2ps
app-text/dblatex
app-text/fbreader
app-text/texlive-bin
app-text/linuxdoc-tools
app-text/mupdf
app-text/pdftk
app-text/podofo
app-text/qpdf
app-text/xpdf
app-text/zathura
dev-java/ant
dev-java/bcprov
dev-java/eclipse-ecj
dev-java/icedtea-web
dev-java/jre-openjdk
dev-java/junit
dev-java/lucene
dev-java/rhino
dev-java/xerces
dev-cpp/clucene
dev-cpp/gtest
dev-cpp/lucene++
dev-cpp/tl-expected
dev-db/mariadb-clients
dev-db/mariadb-libs
dev-db/mongodb
dev-db/mysql
dev-db/mysql-workbench
dev-db/mytop
dev-db/postgis
dev-db/postgresql-docs
dev-db/postgresql-libs
dev-db/redis
dev-db/sqlitebrowser
net-libs/wpewebkit
net-libs/webkit2gtk
net-libs/webkit2gtk-4.1
net-libs/webkit2gtk-5.0
net-fs/samba
app-misc/beep
gnome-libs/retro-gtk
gnome-libs/gnome-games
app-arch/unace
app-cdr/cdemu-daemon
msgpack-c
app-editors/jedit
app-editors/neovim
app-forensics/foremost
app-i18n/poedit
app-office/abiword
app-office/gnucash
app-office/gnumeric
app-office/libreoffice
app-office/scribus
app-office/unoconv
strip-nondeterminism
media-sound/clementine
xorg-apps/xorg-xdm
xorg-libs/mesa
app-emulation/wine
dev-util/vulkan-tools
sci-libs/avogadrolibs
net-fs/cifs-utils
sys-libs/js78
games-misc/openttd
games-misc/openttd-bin
dev-lang/php
www-client/firefox
www-client/seamonkey"

STARTD=`pwd`
LOGFILE=~/build.log

echo "============================= Начало сборки `date` =============================" >> $LOGFILE

# -pod ~/Yandex.Disk/Testing_x86_64/repository/pkg

for i in $LIST ; do
    cd $STARTD/$i
    if mkpkg -ba -wd ~/mkpkg/build -si ; then
           echo "$i ГОТОВ" >> $LOGFILE
           cd $STARTD
    else
           echo "$i НЕ СОБРАН!!!" >> $LOGFILE
           cd $STARTD
          # exit
    fi
done

echo "============================= Завершено `date` =============================" >> $LOGFILE

#sudo poweroff

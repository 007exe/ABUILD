pkgname=gi-docgen
pkgver=2021.7
pkgbuild=1
arch=('auto')

shortdesc=("Documentation generator for GObject-based libraries")
longdesc=("GI-DocGen is a document generator for GObject-based libraries. GObject is the base type system of the GNOME project. GI-Docgen reuses the introspection data generated by GObject-based libraries to generate the API reference of these libraries, as well as other ancillary documentation.")

source=("https://gitlab.gnome.org/GNOME/gi-docgen/-/archive/${pkgver}/gi-docgen-${pkgver}.tar.gz")

tags="develop dev-util"

build_deps="python-jinja python-markdown python-markupsafe python-pygments python-toml python-typogrify python-setuptools"

adddep="python-jinja python-markdown python-markupsafe python-pygments python-toml python-typogrify"

build()
{
  go_src_dir
  python setup.py build
  python setup.py install --root="$pkgdir" --optimize=1 --skip-build
}

pkgname=lib32-libtool
pkgver=2.4.7
pkgbuild=1
# NOTE: Версис gcc
_gccver=12.2.0
arch=("auto")

shortdesc=("A generic library support script (32-bit).")
longdesc=("The Libtool package contains the GNU generic library support script. It wraps the complexity of using shared libraries in a consistent, portable interface.")

source=("https://ftp.gnu.org/gnu/libtool/libtool-${pkgver}.tar.xz")

tags=("develop sys-devel")

build_deps=("gcc>=$_gccver help2man lib32-glibc")

adddep=("tar libtool")

build() {
  go_src_dir
  burn_patches
  export CC="gcc -m32" CXX="g++ -m32"
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib32 \
    --disable-static \
    lt_cv_sys_lib_dlsearch_path_spec="/usr/lib /usr/lib32"
  make -j${numjobs}
  make DESTDIR=${pkgdir} install-libLTLIBRARIES
}

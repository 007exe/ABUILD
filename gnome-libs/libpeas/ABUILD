pkgname=libpeas
pkgver=1.36.0
pkgbuild=1
arch=("auto")

shortdesc=("A GObject plugins library")
longdesc=("libpeas is a GObject based plugins engine, and is targeted at giving every application the chance to assume its own extensibility.")

source=("https://gitlab.gnome.org/GNOME/libpeas/-/archive/libpeas-${pkgver}/libpeas-libpeas-${pkgver}.tar.gz")

tags=("dev-libs libs")
# gobject-introspection-runtime
adddep=("gtk3")

# lua51-lgi
build_deps=("${adddep} gi-docgen glade gobject-introspection luajit meson python-gobject vala")

build() {
  go_src_dir
  burn_patches
  meson build \
    -D prefix=/usr \
    -D vapi=true \
    -D gtk_doc=true
  meson compile -C build
  DESTDIR=${pkgdir} meson install -C build
}

pkgname=harfbuzz
pkgver=2.9.1
pkgbuild=1
arch="auto"

shortdesc=("OpenType text shaping engine")
longdesc=("HarfBuzz is an OpenType text shaping engine. There are two HarfBuzz code trees in existence today.")

tags="libs media-libs"

source=("https://github.com/harfbuzz/harfbuzz/releases/download/${pkgver}/harfbuzz-${pkgver}.tar.xz")
# ragel chafa
build_deps="glib2 freetype icu python meson python-setuptools graphite cairo gobject-introspection python-fonttools"

build(){
  go_src_dir
  burn_patches
  meson build -Dprefix=/usr \
    -D graphite=enabled
  meson compile -C build
  meson install -C build --destdir "$pkgdir"
  install -Dt "$pkgdir/usr/share/licenses/$pkgname" -m644 COPYING
}

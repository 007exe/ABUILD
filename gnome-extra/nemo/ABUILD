pkgname=nemo
pkgver=5.0.5
pkgbuild=1
arch=('auto')

shortdesc=("Cinnamon file manager (Nautilus fork).")
longdesc=("Cinnamon file manager (Nautilus fork).")

source=("https://github.com/linuxmint/${pkgname}/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz")

tags="gnome gnome-extra"

build_deps="meson samurai gobject-introspection intltool libgsf cinnamon-desktop dconf gvfs exempi libexif libnotify libxml2 python xapp"

build() {
  go_src_dir
  burn_patches
# Rename 'Files' app name to avoid having the same as nautilus
  sed -i '/^\[Desktop Entry/,/^\[Desktop Action/ s/^Name\(.*\)=.*/Name\1=Nemo/' data/nemo.desktop.in
  mkdir build
  cd build
  meson \
  --prefix=/usr \
  --libdir=/usr/lib${LIBDIRSUFFIX} \
  --buildtype=plain ..
  samu
  DESTDIR="${pkgdir}" samu install
}


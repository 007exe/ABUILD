# ABUILD generated by spkg2abuild converter from ppl-0.10.2-2.spkg

# Package metadata
pkgname=ppl
pkgver=1.0
pkgbuild=1
arch="auto"

# Package description
shortdesc=("PPL: The Parma Polyhedra Library")
longdesc=("The Parma Polyhedra Library (PPL) provides numerical abstractions especially targeted at applications in the field of analysis and verification of complex systems. These abstractions include convex polyhedra, defined as the intersection of a finite number of (open or closed) halfspaces, each described by a linear inequality (strict or non-strict) with rational coefficients; some special classes of polyhedra shapes that offer interesting complexity/precision tradeoffs; and grids which represent regularly spaced points that satisfy a set of linear congruence relations. The library also supports finite powersets and products of (any kind of) polyhedra and grids and a mixed integer linear programming problem solver using an exact-arithmetic version of the simplex algorithm. (More details are available on the PPL's internal mechanisms.)The Parma Polyhedra Library is: user friendly (you write x + 2*y + 5*z <= 7 when you mean it); fully dynamic (available virtual memory is the only limitation to the dimension of anything); portable (written in standard C++, with C, Java, Objective CAML and Prolog interfaces, and following all the applicable standards); exception-safe (never leaks resources or leaves invalid object fragments around); efficient (and we hope to make it even more so); thoroughly documented; free software (distributed under the terms of the GNU General Public License version 3 or any later version).")

# Source URL
source=("http://bugseng.com/products/ppl/download/ftp/releases/$pkgver/ppl-$pkgver.tar.gz")

# Tags
tags="develop sys-devel"

build_deps="gmp"
pkglist="static ppldocs"


BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr \
	--bindir=/usr/bin \
	--sbindir=/usr/sbin \
	--libexecdir=/usr/libexec \
	--includedir=/usr/include \
	--mandir=/usr/man \
	--infodir=/usr/info \
	--libdir=/usr/lib${LIBDIRSUFFIX} \
	--sysconfdir=/etc \
	--localstatedir=/var \
	--enable-ppl_lcdd \
	--docdir=/usr/doc/${pkgname}-${pkgver} \
	--enable-ppl_lpsol \
	--enable-interfaces='c,cxx' \
	--enable-optimization=sspeed"

static() {
	pkgname=ppl-static
	shortdesc="PPL static libs"
	adddep="ppl"
}

ppldocs() {
	pkgname=ppl-docs
	shortdesc="PPL Documentation"
	arch=("noarch")
}

static_prep() {
	mkdir -p ${pkgdir}/usr/lib${LIBDIRSUFFIX}
	mv ${p_pkgdir}/usr/lib${LIBDIRSUFFIX}/*.a ${pkgdir}/usr/lib${LIBDIRSUFFIX}/
}

ppldocs_prep() {
	mkdir -p ${pkgdir}/usr
	mv ${p_pkgdir}/usr/doc ${pkgdir}/usr
}


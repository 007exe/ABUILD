# ABUILD generated by mkpkg_generator.sh

pkgname=pcre2
pkgver=10.35
pkgbuild=1
arch=("auto")

shortdesc=("Perl-compatible regular expression library")
longdesc=("The PCRE library is a set of functions that implement regular expression pattern matching using the same syntax and semantics as Perl 5, with just a few differences (documented in the man page). The PCRE library is used by KDE's Konqueror browser.")

tags=("dev-libs libs")

source=("https://ftp.pcre.org/pub/pcre/${pkgname}-${pkgver}.tar.bz2")

build_deps="bzip2 gcc-libs readline zlib"

before_build() {
	go_src_dir
#	sed -i '12140d' testdata/testoutput2
}

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr \
            --enable-utf \
            --enable-unicode-properties \
            --libdir=/usr/lib$LIBDIRSUFFIX \
            --mandir=/usr/man \
            --docdir=/usr/share/doc/${pkgname}-${pkgver} \
            --enable-pcre2-16 \
            --enable-pcre2-32 \
            --enable-pcre2grep-libz \
            --enable-pcre2grep-libbz2 \
            --enable-pcre2test-libreadline \
            --enable-jit"

INSTALL_KEYS="DESTDIR=$pkgdir"

after_build() {
	go_src_dir
        install -Dm644 LICENCE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}


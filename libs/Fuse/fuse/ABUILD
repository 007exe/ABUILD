# ABUILD generated by mkpkg_generator.sh

pkgname=fuse
pkgver=2.9.9
pkgbuild=2
arch=("auto")

shortdesc=("FUSE (Filesystem in Userspace)")
longdesc=("FUSE is a simple interface for userspace programs to export a virtual filesystem to the Linux kernel. FUSE also aims to provide a secure method for non privileged users to create and mount their own filesystem implementations. The FUSE web site can be found here: http://fuse.sourceforge.net")

tags=("libs sys-fs")

source=("https://github.com/libfuse/libfuse/releases/download/fuse-$pkgver/$pkgname-$pkgver.tar.gz")
build_deps="glibc"
adddep="fuse-common"

BUILD_SYSTEM="autotools"
BUILD_KEYS="UDEV_RULES_PATH=/usr/lib/udev/rules.d MOUNT_FUSE_PATH=/usr/bin --prefix=/usr --enable-lib --libdir=/usr/lib${LIBDIRSUFFIX} --enable-util --bindir=/bin --mandir=/usr/share/man/"
INSTALL_KEYS="DESTDIR=$pkgdir"
#config_files="etc/fuse.conf"
# etc/fuse.conf также необходим для fuse 3х
# перенесён в пакет fuse-common
after_build() {
	
	# static device nodes will cause collision.
	rm -rf ${pkgdir}/dev
 
	# Remove init script in wrong path
	# Don't add our own for now, as fusectl fs oopses on 2.6.18
	rm -rf ${pkgdir}/etc/init.d
}

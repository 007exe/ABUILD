pkgname=shared-mime-info
pkgver=2.1
pkgbuild=1
arch=('auto')

shortdesc=("Shared MIME-Info Specification")
longdesc=("This is the freedesktop.org shared MIME info database.")

source=("https://gitlab.freedesktop.org/xdg/shared-mime-info/-/archive/${pkgver}/shared-mime-info-${pkgver}.tar.gz")

tags=("libs x11-misc")

build_deps="libxml2 glib2 itstool gettext xmlto docbook-xsl meson"

adddep="libxml2 glib2"

build() {
  go_src_dir
  burn_patches
  meson build -Dprefix=/usr \
    -D update-mimedb=false \
    -D xdgmime-path=${srcdir}/xdgmime

# Print config
  meson configure build

# compile it
  ninja -C build

  DESTDIR="$pkgdir" meson install -C build
}

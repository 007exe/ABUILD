# ABUILD generated by mkpkg_generator.sh

pkgname=cracklib
pkgver=2.9.7
pkgbuild=1
arch=("auto")

shortdesc=("Password Checking Library")

tags=("sys-libs libs")

source=("https://github.com/cracklib/cracklib/releases/download/v$pkgver/$pkgname-$pkgver.tar.gz")

build_deps="zlib" 

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr --libdir=/usr/lib$LIBDIRSUFFIX --docdir=/usr/share/doc/ --mandir=/usr/share/man --sysconfdir=/etc --without-python"
INSTALL_KEYS="DESTDIR=$pkgdir"

after_build() {
	go_src_dir
	install -Dm644 dicts/cracklib-small $pkgdir/usr/share/dict/cracklib-small
	sh ./util/cracklib-format dicts/cracklib-small \
		| sh ./util/cracklib-packer $pkgdir/usr/share/cracklib/pw_dict
}

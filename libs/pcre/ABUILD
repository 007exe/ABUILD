pkgname=pcre
pkgver=8.44
pkgbuild=3
arch=("auto")

shortdesc="Perl-compatible regular expression library"
longdesc="The PCRE library is a set of functions that implement regular expression pattern matching using the same syntax and semantics as Perl 5, with just a few differences (documented in the man page). The PCRE library is used by KDE's Konqueror browser."

tags=("dev-libs libs")

source=("https://ftp.pcre.org/pub/${pkgname}/${pkgname}-${pkgver}.tar.bz2")

build_deps="bzip2 gcc-libs readline zlib"

build() {
  go_src_dir
  ./configure \
    --prefix=/usr \
    --enable-utf \
    --enable-unicode-properties \
    --libdir=/usr/lib$LIBDIRSUFFIX \
    --enable-pcre16 \
    --enable-pcre32 \
    --enable-pcregrep-libz \
    --enable-pcregrep-libbz2 \
    --enable-pcretest-libreadline \
    --enable-jit
  make -j${numjobs}
  make DESTDIR=${pkgdir} install
  install -Dm644 LICENCE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}


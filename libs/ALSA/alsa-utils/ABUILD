# ABUILD generated by mkpkg_generator.sh

pkgname=alsa-utils
pkgver=1.2.3
pkgbuild=1
arch=('auto')

shortdesc=('alsa-utils (Advanced Linux Sound Architecture utilities)')
longdesc=('The Advanced Linux Sound Architecture (ALSA) provides audio and MIDI functionality to the Linux operating system. This package contains command line audio utilities for use with ALSA: alsactl (manage soundcard settings) arecord/aplay (capture and play audio) amixer (adjust mixer settings from the command line) alsamixer (an ncurses-based console mixer) For more information, see http://alsa-project.org')

tags=('console media-sound')

source=("ftp://ftp.alsa-project.org/pub/utils/${pkgname}-${pkgver}.tar.bz2")

build_deps='make gcc coreutils binutils alsa-lib glibc xmlto gettext pkg-config sed grep'

BUILD_SYSTEM='autotools'
BUILD_KEYS=" --prefix=/usr \
  --sbindir=/usr/bin \
  --libdir=/usr/lib${LIBDIRSUFFIX} \
  --mandir=/usr/share/man \
  --disable-xmlto \
  --sysconfdir=/etc"

INSTALL_KEYS="DESTDIR=${pkgdir}"

after_build() {
  # Add OpenRC scripts
  mkdir -p ${pkgdir}/etc/conf.d
  install -m644 ${filedir}/alsasound ${pkgdir}/etc/conf.d/alsasound
  mkdir -p ${pkgdir}/etc/init.d
  install -m755 ${filedir}/alsasound.init ${pkgdir}/etc/init.d/alsasound

  # Create alsascr directory (OpenRC scripts wants this, dunno why)
  mkdir -p ${pkgdir}/etc/alsa.d
}


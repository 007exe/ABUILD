pkgname=htop
pkgver=3.0.2
pkgbuild=1
arch="auto"

shortdesc=("Interactive process viewer")

source=("https://github.com/htop-dev/htop/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz")

tags="sys-process console"

build_deps="ncurses libnl pkg-config"

before_build() {
        go_src_dir
	autoreconf -fi
}

build() {
  go_src_dir

  ./configure \
      --prefix=/usr \
      --libdir=/usr/lib${LIBDIRSUFFIX} \
      --mandir=/usr/share/man \
      --sysconfdir=/etc \
      --enable-cgroup \
      --enable-delayacct \
      --enable-openvz \
      --enable-unicode \
      --enable-vserver

  make
  make DESTDIR="$pkgdir" install
}
